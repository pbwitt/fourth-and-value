<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Fourth &amp; Value — Insights (Week 2)</title>
  <style>
  :root { color-scheme: dark; }
  body {
    margin: 0;
    background: #0b1220;
    color: #e5e7eb;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Inter, Roboto, Helvetica, Arial, sans-serif;
  }
  .wrap { max-width: 980px; margin: 0 auto; padding: 16px; }
  h1, h2, h3 { color: #fff; }
  .muted { color: #94a3b8; }
  .filterbar { display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin: 12px 0 10px; }
  .filterbar label { font-weight:600; }
  .filterbar select {
    background:#0f172a; color:#e5e7eb; border:1px solid #27324a;
    border-radius:10px; padding:8px 10px; min-width: 220px;
  }
  .share {
    display:flex; gap:8px; align-items:center; flex-wrap:wrap;
  }
  .share button, .share input {
    background:#0f172a; color:#e5e7eb; border:1px solid #27324a;
    border-radius:10px; padding:8px 10px;
  }
  .share input {
    min-width: 220px;
  }
  .share button {
    cursor:pointer;
  }
  .week {
    border: 1px solid #27324a; background:#0f172a; border-radius:12px;
    padding:12px; margin: 6px 0 12px;
  }
  .week ul { margin: 8px 0 0 18px; }
  .game { margin-top: 16px; }
  .game p { line-height: 1.55; color: #cbd5e1; }
  .game ul { margin: 10px 0 0 18px; }
  .game li { margin: 6px 0; }
  @media (max-width: 720px) {
    .wrap { padding: 12px; }
    .filterbar select { min-width: 180px; }
    .share input { min-width: 180px; }
  }

  /* Minimal nav styles (for injected nav.js) */
  .site-header{position:sticky;top:0;z-index:50;background:rgba(20,20,24,.65);
    backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
    border-bottom:1px solid #1f2937}
  .navbar{max-width:1100px;margin:0 auto;padding:10px 16px;display:flex;align-items:center;gap:12px}
  .nav-links{margin-left:auto;display:flex;flex-wrap:wrap;gap:8px}
  .nav-link{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:10px;text-decoration:none;color:#e5e7eb}
  .nav-link:hover{background:rgba(76,117,255,.14)}
  .nav-link.active{border:1px solid #4c74ff;background:rgba(76,117,255,.10)}
</style>
</head>
<body>
  <div id="nav-root"></div>

  <div class="wrap">
    <h1>Fourth &amp; Value — Insights (Week 2)</h1>
    <p class="muted">AI-assisted commentary per game. Choose a matchup to view just that game’s summary. Total picks: 0.</p>

    <section class="game" data-key="chicago-bears-at-detroit-lions">
  <h3>Chicago Bears @ Detroit Lions</h3>
  <p>Chicago Bears @ Detroit Lions: Rushing Yards over pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="jacksonville-jaguars-at-cincinnati-bengals">
  <h3>Jacksonville Jaguars @ Cincinnati Bengals</h3>
  <p>Jacksonville Jaguars @ Cincinnati Bengals: Receptions under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="new-york-giants-at-dallas-cowboys">
  <h3>New York Giants @ Dallas Cowboys</h3>
  <p>New York Giants @ Dallas Cowboys: rush_attempts over pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="new-england-patriots-at-miami-dolphins">
  <h3>New England Patriots @ Miami Dolphins</h3>
  <p>New England Patriots @ Miami Dolphins: rush_attempts under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="cleveland-browns-at-baltimore-ravens">
  <h3>Cleveland Browns @ Baltimore Ravens</h3>
  <p>Cleveland Browns @ Baltimore Ravens: rush_attempts under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="buffalo-bills-at-new-york-jets">
  <h3>Buffalo Bills @ New York Jets</h3>
  <p>Buffalo Bills @ New York Jets: Rushing Yards under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="los-angeles-rams-at-tennessee-titans">
  <h3>Los Angeles Rams @ Tennessee Titans</h3>
  <p>Los Angeles Rams @ Tennessee Titans: Receptions under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="san-francisco-49ers-at-new-orleans-saints">
  <h3>San Francisco 49ers @ New Orleans Saints</h3>
  <p>San Francisco 49ers @ New Orleans Saints: rush_attempts under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="seattle-seahawks-at-pittsburgh-steelers">
  <h3>Seattle Seahawks @ Pittsburgh Steelers</h3>
  <p>Seattle Seahawks @ Pittsburgh Steelers: Receptions under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="carolina-panthers-at-arizona-cardinals">
  <h3>Carolina Panthers @ Arizona Cardinals</h3>
  <p>Carolina Panthers @ Arizona Cardinals: rush_attempts under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="denver-broncos-at-indianapolis-colts">
  <h3>Denver Broncos @ Indianapolis Colts</h3>
  <p>Denver Broncos @ Indianapolis Colts: rush_attempts under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="philadelphia-eagles-at-kansas-city-chiefs">
  <h3>Philadelphia Eagles @ Kansas City Chiefs</h3>
  <p>Philadelphia Eagles @ Kansas City Chiefs: rush_attempts under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="atlanta-falcons-at-minnesota-vikings">
  <h3>Atlanta Falcons @ Minnesota Vikings</h3>
  <p>Atlanta Falcons @ Minnesota Vikings: rush_attempts under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="tampa-bay-buccaneers-at-houston-texans">
  <h3>Tampa Bay Buccaneers @ Houston Texans</h3>
  <p>Tampa Bay Buccaneers @ Houston Texans: rush_attempts under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
<section class="game" data-key="los-angeles-chargers-at-las-vegas-raiders">
  <h3>Los Angeles Chargers @ Las Vegas Raiders</h3>
  <p>Los Angeles Chargers @ Las Vegas Raiders: rush_attempts under pops most on our numbers. Shop for best price; keep stakes modest.</p>
</section>
  </div>

  <script src="../nav.js?v=9"></script>
  <script>
document.addEventListener('DOMContentLoaded', () => {
  const main = document.querySelector('main') || document.body;
  if (!document.querySelector('.wrap')) {
    const wrap = document.createElement('div');
    wrap.className = 'wrap';
    while (main.firstChild) wrap.appendChild(main.firstChild);
    main.appendChild(wrap);
  }
  const wrap = document.querySelector('.wrap');

  // Build filter bar (Game dropdown + counts + share)
  const bar = document.createElement('div');
  bar.className = 'filterbar';
  bar.innerHTML = `
    <label class="muted" for="gameSel">Game:</label>
    <select id="gameSel" aria-label="Select a game"><option value="__all__">All games</option></select>
    <span id="count" class="muted"></span>
    <span class="share" id="shareBox" style="display:none;">
      <button id="shareBtn" type="button" title="Share this game">Share</button>
      <input id="shareUrl" readonly value="">
      <button id="copyBtn" type="button" title="Copy link">Copy</button>
    </span>
  `;
  const h1 = wrap.querySelector('h1');
  wrap.insertBefore(bar, h1 ? h1.nextSibling : wrap.firstChild);

  // Week-at-a-glance container (shown only for "All games")
  const weekBox = document.createElement('section');
  weekBox.className = 'week';
  weekBox.id = 'weekBox';
  // Placeholder content; we fill it after we discover blocks
  weekBox.innerHTML = `
    <strong>Week at a glance</strong>
    <p class="muted" id="weekLine"></p>
    <ul id="weekList"></ul>
  `;
  wrap.insertBefore(weekBox, bar.nextSibling);

  // Identify game blocks
  const blocks = Array.from(wrap.querySelectorAll('.game[data-key]'));

  // Populate dropdown and week list
  const sel = document.getElementById('gameSel');
  const weekList = document.getElementById('weekList');
  blocks.forEach(b => {
    const name = (b.querySelector('h3')?.textContent || b.dataset.key).trim();
    const slug = b.dataset.key;

    const opt = document.createElement('option');
    opt.value = slug;
    opt.textContent = name;
    sel.appendChild(opt);

    const li = document.createElement('li');
    const a = document.createElement('a');
    a.textContent = name;
    const url = new URL(location.href);
    url.searchParams.set('game', slug);
    a.href = url.toString();
    li.appendChild(a);
    weekList.appendChild(li);
  });

  // Update week line
  const weekLine = document.getElementById('weekLine');
  const totalGames = blocks.length;
  const totalPicks = blocks.reduce((acc, b) => acc + b.querySelectorAll('li').length, 0);
  weekLine.textContent = `${totalGames} games • ${totalPicks} total picks`;

  // Filtering + counts + share controls
  const countSpan = document.getElementById('count');
  const shareBox = document.getElementById('shareBox');
  const shareBtn = document.getElementById('shareBtn');
  const copyBtn  = document.getElementById('copyBtn');
  const shareUrl = document.getElementById('shareUrl');

  function updateShare(slug, title) {
    const url = new URL(location.href);
    if (!slug || slug === '__all__') {
      url.searchParams.delete('game');
      shareUrl.value = '';
      shareBox.style.display = 'none';
      return;
    }
    url.searchParams.set('game', slug);
    shareUrl.value = url.toString();
    shareBox.style.display = '';
    // button handlers
    shareBtn.onclick = async () => {
      try {
        if (navigator.share) {
          await navigator.share({ title: title || document.title, url: shareUrl.value });
        } else {
          await navigator.clipboard.writeText(shareUrl.value);
          shareBtn.textContent = 'Copied!';
          setTimeout(() => shareBtn.textContent = 'Share', 1200);
        }
      } catch (_) {}
    };
    copyBtn.onclick = async () => {
      try {
        await navigator.clipboard.writeText(shareUrl.value);
        copyBtn.textContent = 'Copied!';
        setTimeout(() => copyBtn.textContent = 'Copy', 1200);
      } catch (_) {}
    };
  }

  function applyFilter() {
    const v = sel.value;
    let totalPicksShown = 0, shown = 0, shownName = '';
    blocks.forEach(b => {
      const show = (v === '__all__' || b.dataset.key === v);
      b.style.display = show ? '' : 'none';
      if (show) {
        shown++;
        totalPicksShown += b.querySelectorAll('li').length;
        if (v !== '__all__' && !shownName) shownName = (b.querySelector('h3')?.textContent || '').trim();
      }
    });
    if (v === '__all__') {
      countSpan.textContent = `${shown} games`;
      weekBox.style.display = '';
      updateShare(null, null);
    } else {
      countSpan.textContent = `${totalPicksShown} picks`;
      weekBox.style.display = 'none';
      updateShare(v, shownName);
    }
  }

  sel.addEventListener('change', applyFilter);

  // Deep-linking: ?game=slug
  const params = new URLSearchParams(location.search);
  const want = params.get('game');
  if (want && Array.from(sel.options).some(o => o.value === want)) sel.value = want;

  applyFilter();
});
</script>
</body>
</html>
